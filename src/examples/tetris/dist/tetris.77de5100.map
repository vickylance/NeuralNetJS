{"version":3,"sources":["index.ts"],"names":[],"mappings":"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","file":"tetris.77de5100.map","sourceRoot":"..","sourcesContent":["const canvas: HTMLCanvasElement = document.getElementById(\"tetris\") as HTMLCanvasElement;\r\nconst ctx: CanvasRenderingContext2D = canvas.getContext('2d');\r\nctx.scale(20, 20);\r\n\r\nconst matrix = [\r\n  [0,0,0],\r\n  [1,1,1],\r\n  [0,1,0]\r\n];\r\n\r\nfunction drawMatrix(matrix, offset) {\r\n  matrix.forEach((row, y) => {\r\n    row.forEach((value, x) => {\r\n      if(value !== 0) {\r\n        ctx.fillStyle = 'red';\r\n        ctx.fillRect(x + offset.x, y + offset.y, 1, 1);\r\n      }\r\n    })\r\n  });\r\n}\r\n\r\nlet player = {\r\n  matrix: matrix,\r\n  pos: {x: 5, y: 5}\r\n}\r\n\r\nlet dropCounter = 0;\r\nlet dropInterval = 1000;\r\n\r\nlet lastTime = 0;\r\nfunction update(time = 0) {\r\n  const deltaTime = time - lastTime;\r\n  lastTime = time;\r\n  \r\n  dropCounter += deltaTime;\r\n  if(dropCounter > dropInterval) {\r\n    player.pos.y++;\r\n    dropCounter = 0;\r\n  }\r\n  \r\n  // clear the screen\r\n  ctx.fillStyle = \"#000\";\r\n  ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n  // draw the game\r\n  draw();\r\n  // run at monitor refresh speed\r\n  requestAnimationFrame(update)\r\n}\r\n\r\nfunction draw() {\r\n  drawMatrix(player.matrix, player.pos);\r\n}\r\n\r\n// controls\r\ndocument.addEventListener('keydown', event => {\r\n  console.log(event);\r\n  if(event.keyCode === 37 || event.keyCode === 65) {\r\n    // left key is pressed or A is pressed\r\n    player.pos.x--;\r\n  } else if(event.keyCode === 39 || event.keyCode === 68) {\r\n    // right key or D is pressed\r\n    player.pos.x++;\r\n  } else if(event.keyCode === 40 || event.keyCode === 83) {\r\n    // down key or S is pressed\r\n    dropInterval = 10;\r\n  }\r\n})\r\n\r\n// stat the game\r\nupdate();\r\n"]}